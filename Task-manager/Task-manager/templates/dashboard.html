{% extends "base.html" %}
{% block title %}Dashboard - Task Manager{% endblock %}

{% block content %}
<div class="dashboard-wrapper">
    <div class="flex-between mb-3">
        <h3>Dashboard</h3>
    </div>

    <div class="nav-links mb-3">
        <a href="/add_task" class="btn btn-primary">+ Add Task</a>
        <a href="/logout" class="btn btn-danger">Logout</a>
    </div>

    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th>Task Title</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% if tasks %}
                    {% for task in tasks %}
                    <tr>
                        <td>{{ task.title }}</td>
                        <td>
                            <span class="status {% if task.status == 'Pending' %}pending{% elif task.status == 'Completed' %}completed{% elif task.status == 'In Progress' %}in-progress{% endif %}">
                                {{ task.status }}
                            </span>
                        </td>
                        <td>
                            <div class="btn-group gap-1">
                                <a href="/complete/{{ task.id }}" class="btn btn-success btn-small">Complete</a>
                                <a href="/edit/{{ task.id }}" class="btn btn-primary btn-small">Edit</a>
                                <a href="/delete/{{ task.id }}" class="btn btn-danger btn-small" onclick="return confirm('Are you sure?')">Delete</a>
                            </div>
                        </td>
                    </tr>
                    {% endfor %}
                {% else %}
                <tr>
                    <td colspan="3" class="text-center">
                        <p>No tasks found. <a href="/add_task">Create your first task</a></p>
                    </td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}